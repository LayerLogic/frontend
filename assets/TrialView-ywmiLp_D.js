import{u as J,r as A,B as _,m as w,i as E,a as Q,b as B,t as T,g as Y,s as $,c as P,d as Z,f as ee,e as te,_ as ne,h as g,o as v,j as h,k as ie,T as re,l as D,n as N,p as x,F as se,q as ae,v as U,w as oe,x as le,y as ue,z as de}from"./index-Bo22wsOt.js";var C={_loadedStyleNames:new Set,getLoadedStyleNames:function(){return this._loadedStyleNames},isStyleNameLoaded:function(e){return this._loadedStyleNames.has(e)},setLoadedStyleName:function(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName:function(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames:function(){this._loadedStyleNames.clear()}};function ce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pc",e=J();return"".concat(t).concat(e.replace("v-","").replaceAll("-","_"))}var M=_.extend({name:"common"});function L(t){"@babel/helpers - typeof";return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(t)}function he(t){return z(t)||me(t)||R(t)||K()}function me(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O(t,e){return z(t)||fe(t,e)||R(t,e)||K()}function K(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(t,e){if(t){if(typeof t=="string")return G(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(t,e):void 0}}function G(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function fe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,s,c,d=[],u=!0,o=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=s.call(n)).done)&&(d.push(i.value),d.length!==e);u=!0);}catch(l){o=!0,r=l}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw r}}return d}}function z(t){if(Array.isArray(t))return t}function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H(Object(n),!0).forEach(function(i){k(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function k(t,e,n){return(e=pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pe(t){var e=ve(t,"string");return L(e)=="symbol"?e:e+""}function ve(t,e){if(L(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(L(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ge={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0},dt:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){$.off("theme:change",this._loadCoreStyles),e||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))}},dt:{immediate:!0,handler:function(e,n){var i=this;$.off("theme:change",this._themeScopedListener),e?(this._loadScopedThemeStyles(e),this._themeScopedListener=function(){return i._loadScopedThemeStyles(e)},this._themeChangeListener(this._themeScopedListener)):this._unloadScopedThemeStyles()}}},scopedStyleEl:void 0,rootEl:void 0,uid:void 0,$attrSelector:void 0,beforeCreate:function(){var e,n,i,r,s,c,d,u,o,l,f,m=(e=this.pt)===null||e===void 0?void 0:e._usept,p=m?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,y=m?(i=this.pt)===null||i===void 0||(i=i.value)===null||i===void 0?void 0:i[this.$.type.name]:this.pt;(r=y||p)===null||r===void 0||(r=r.hooks)===null||r===void 0||(s=r.onBeforeCreate)===null||s===void 0||s.call(r);var S=(c=this.$primevueConfig)===null||c===void 0||(c=c.pt)===null||c===void 0?void 0:c._usept,V=S?(d=this.$primevue)===null||d===void 0||(d=d.config)===null||d===void 0||(d=d.pt)===null||d===void 0?void 0:d.originalValue:void 0,b=S?(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0||(u=u.pt)===null||u===void 0?void 0:u.value:(o=this.$primevue)===null||o===void 0||(o=o.config)===null||o===void 0?void 0:o.pt;(l=b||V)===null||l===void 0||(l=l[this.$.type.name])===null||l===void 0||(l=l.hooks)===null||l===void 0||(f=l.onBeforeCreate)===null||f===void 0||f.call(l),this.$attrSelector=ce(),this.uid=this.$attrs.id||this.$attrSelector.replace("pc","pv_id_")},created:function(){this._hook("onCreated")},beforeMount:function(){var e;this.rootEl=ee(te(this.$el)?this.$el:(e=this.$el)===null||e===void 0?void 0:e.parentElement,"[".concat(this.$attrSelector,"]")),this.rootEl&&(this.rootEl.$pc=a({name:this.$.type.name,attrSelector:this.$attrSelector},this.$params)),this._loadStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._removeThemeListeners(),this._unloadScopedThemeStyles(),this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),i=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),i==null||i()}},_mergeProps:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Z(e)?e.apply(void 0,i):w.apply(void 0,i)},_load:function(){C.isStyleNameLoaded("base")||(_.loadCSS(this.$styleOptions),this._loadGlobalStyles(),C.setLoadedStyleName("base")),this._loadThemeStyles()},_loadStyles:function(){this._load(),this._themeChangeListener(this._load)},_loadCoreStyles:function(){var e,n;!C.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(n=this.$style)!==null&&n!==void 0&&n.name&&(M.loadCSS(this.$styleOptions),this.$options.style&&this.$style.loadCSS(this.$styleOptions),C.setLoadedStyleName(this.$style.name))},_loadGlobalStyles:function(){var e=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);B(e)&&_.load(e,a({name:"global"},this.$styleOptions))},_loadThemeStyles:function(){var e,n;if(!(this.isUnstyled||this.$theme==="none")){if(!P.isStyleNameLoaded("common")){var i,r,s=((i=this.$style)===null||i===void 0||(r=i.getCommonTheme)===null||r===void 0?void 0:r.call(i))||{},c=s.primitive,d=s.semantic,u=s.global,o=s.style;_.load(c==null?void 0:c.css,a({name:"primitive-variables"},this.$styleOptions)),_.load(d==null?void 0:d.css,a({name:"semantic-variables"},this.$styleOptions)),_.load(u==null?void 0:u.css,a({name:"global-variables"},this.$styleOptions)),_.loadStyle(a({name:"global-style"},this.$styleOptions),o),P.setLoadedStyleName("common")}if(!P.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(n=this.$style)!==null&&n!==void 0&&n.name){var l,f,m,p,y=((l=this.$style)===null||l===void 0||(f=l.getComponentTheme)===null||f===void 0?void 0:f.call(l))||{},S=y.css,V=y.style;(m=this.$style)===null||m===void 0||m.load(S,a({name:"".concat(this.$style.name,"-variables")},this.$styleOptions)),(p=this.$style)===null||p===void 0||p.loadStyle(a({name:"".concat(this.$style.name,"-style")},this.$styleOptions),V),P.setLoadedStyleName(this.$style.name)}if(!P.isStyleNameLoaded("layer-order")){var b,I,q=(b=this.$style)===null||b===void 0||(I=b.getLayerOrderThemeCSS)===null||I===void 0?void 0:I.call(b);_.load(q,a({name:"layer-order",first:!0},this.$styleOptions)),P.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(e){var n,i,r,s=((n=this.$style)===null||n===void 0||(i=n.getPresetTheme)===null||i===void 0?void 0:i.call(n,e,"[".concat(this.$attrSelector,"]")))||{},c=s.css,d=(r=this.$style)===null||r===void 0?void 0:r.load(c,a({name:"".concat(this.$attrSelector,"-").concat(this.$style.name)},this.$styleOptions));this.scopedStyleEl=d.el},_unloadScopedThemeStyles:function(){var e;(e=this.scopedStyleEl)===null||e===void 0||(e=e.value)===null||e===void 0||e.remove()},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};C.clearLoadedStyleNames(),$.on("theme:change",e)},_removeThemeListeners:function(){$.off("theme:change",this._loadCoreStyles),$.off("theme:change",this._load),$.off("theme:change",this._themeScopedListener)},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Y(e,n,i)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,c=/./g.test(i)&&!!r[i.split(".")[0]],d=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},u=d.mergeSections,o=u===void 0?!0:u,l=d.mergeProps,f=l===void 0?!1:l,m=s?c?this._useGlobalPT(this._getPTClassValue,i,r):this._useDefaultPT(this._getPTClassValue,i,r):void 0,p=c?void 0:this._getPTSelf(n,this._getPTClassValue,i,a(a({},r),{},{global:m||{}})),y=this._getPTDatasets(i);return o||!o&&p?f?this._mergeProps(f,m,p,y):a(a(a({},m),p),y):a(a({},p),y)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return w(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(i)),this._usePT.apply(this,[this.$_attrsPT].concat(i)))},_getPTDatasets:function(){var e,n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r="data-pc-",s=i==="root"&&B((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return i!=="transition"&&a(a({},i==="root"&&a(a(k({},"".concat(r,"name"),T(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&k({},"".concat(r,"extend"),T(this.$.type.name))),{},k({},"".concat(this.$attrSelector),""))),{},k({},"".concat(r,"section"),T(i)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return E(e)||Q(e)?{class:e}:e},_getPT:function(e){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,s=function(d){var u,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=r?r(d):d,f=T(i),m=T(n.$name);return(u=o?f!==m?l==null?void 0:l[f]:void 0:l==null?void 0:l[f])!==null&&u!==void 0?u:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,i,r){var s=function(S){return n(S,i,r)};if(e!=null&&e.hasOwnProperty("_usept")){var c,d=e._usept||((c=this.$primevueConfig)===null||c===void 0?void 0:c.ptOptions)||{},u=d.mergeSections,o=u===void 0?!0:u,l=d.mergeProps,f=l===void 0?!1:l,m=s(e.originalValue),p=s(e.value);return m===void 0&&p===void 0?void 0:E(p)?p:E(m)?m:o||!o&&p?f?this._mergeProps(f,m,p):a(a({},m),p):p}return s(e)},_useGlobalPT:function(e,n,i){return this._usePT(this.globalPT,e,n,i)},_useDefaultPT:function(e,n,i){return this._usePT(this.defaultPT,e,n,i)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,a(a({},this.$params),n))},ptmi:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=w(this.$_attrsWithoutPT,this.ptm(n,i));return r!=null&&r.hasOwnProperty("id")&&((e=r.id)!==null&&e!==void 0||(r.id=this.$id)),r},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,a({instance:this},i),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,a(a({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var r=this._getOptionValue(this.$style.inlineStyles,e,a(a({},this.$params),i)),s=this._getOptionValue(M.inlineStyles,e,a(a({},this.$params),i));return[s,r]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(i){return A(i,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(i){return n._getOptionValue(i,n.$name,a({},n.$params))||A(i,a({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$id:function(){return this.$attrs.id||this.uid},$inProps:function(){var e,n=Object.keys(((e=this.$.vnode)===null||e===void 0?void 0:e.props)||{});return Object.fromEntries(Object.entries(this.$props).filter(function(i){var r=O(i,1),s=r[0];return n==null?void 0:n.includes(s)}))},$theme:function(){var e;return(e=this.$primevueConfig)===null||e===void 0?void 0:e.theme},$style:function(){return a(a({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$styleOptions:function(){var e;return{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs}}},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=O(e,1),i=n[0];return i==null?void 0:i.startsWith("pt:")}).reduce(function(e,n){var i=O(n,2),r=i[0],s=i[1],c=r.split(":"),d=he(c),u=d.slice(1);return u==null||u.reduce(function(o,l,f,m){return!o[l]&&(o[l]=f===m.length-1?s:{}),o[l]},e),e},{})},$_attrsWithoutPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=O(e,1),i=n[0];return!(i!=null&&i.startsWith("pt:"))}).reduce(function(e,n){var i=O(n,2),r=i[0],s=i[1];return e[r]=s,e},{})}}},ye={root:{position:"relative"}},_e={root:"p-chart"},Se=_.extend({name:"chart",classes:_e,inlineStyles:ye}),be={name:"BaseChart",extends:ge,props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},style:Se,provide:function(){return{$pcChart:this,$parentInstance:this}}},X={name:"Chart",extends:be,inheritAttrs:!1,emits:["select","loaded"],chart:null,watch:{data:{handler:function(){this.reinit()},deep:!0},type:function(){this.reinit()},options:function(){this.reinit()}},mounted:function(){this.initChart()},beforeUnmount:function(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart:function(){var e=this;ne(()=>import("./auto-C3mEb9gQ.js"),[]).then(function(n){e.chart&&(e.chart.destroy(),e.chart=null),n&&n.default&&(e.chart=new n.default(e.$refs.canvas,{type:e.type,data:e.data,options:e.options,plugins:e.plugins})),e.$emit("loaded",e.chart)})},getCanvas:function(){return this.$canvas},getChart:function(){return this.chart},getBase64Image:function(){return this.chart.toBase64Image()},refresh:function(){this.chart&&this.chart.update()},reinit:function(){this.initChart()},onCanvasClick:function(e){if(this.chart){var n=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),i=this.chart.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1);n&&n[0]&&i&&this.$emit("select",{originalEvent:e,element:n[0],dataset:i})}},generateLegend:function(){if(this.chart)return this.chart.generateLegend()}}};function j(t){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(t)}function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W(Object(n),!0).forEach(function(i){$e(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $e(t,e,n){return(e=Pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pe(t){var e=Te(t,"string");return j(e)=="symbol"?e:e+""}function Te(t,e){if(j(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(j(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ce=["width","height"];function Oe(t,e,n,i,r,s){return v(),g("div",w({class:t.cx("root"),style:t.sx("root")},t.ptmi("root")),[h("canvas",w({ref:"canvas",width:t.width,height:t.height,onClick:e[0]||(e[0]=function(c){return s.onCanvasClick(c)})},F(F({},t.canvasProps),t.ptm("canvas"))),null,16,Ce)],16)}X.render=Oe;const ke={name:"TrialView",components:{TrialTags:re,Chart:X},data(){return{trial:null,gateChartOptions:{interaction:{mode:"index",intersect:!1},plugins:{legend:{labels:{color:"#495057",font:{size:12}}},tooltip:{mode:"index",intersect:!1}},scales:{x:{type:"linear",stacked:!0,title:{display:!0,text:"Gate Voltage (V)",color:"#2c3e50",font:{weight:"bold"}},ticks:{color:"#495057"}},y:{type:"linear",title:{display:!0,text:"Voltage X (mV)",color:"#2c3e50",font:{weight:"bold"}},ticks:{color:"#495057"}}},elements:{line:{tension:.4},point:{radius:1}}},timeChartOptions:{interaction:{mode:"index",intersect:!1},plugins:{legend:{labels:{color:"#495057",font:{size:12}}},tooltip:{mode:"index",intersect:!1}},scales:{x:{type:"linear",title:{display:!0,text:"Time (S)",color:"#2c3e50",font:{weight:"bold"}},ticks:{color:"#495057"}},y:{type:"linear",title:{display:!0,text:"Voltage X (mV)",color:"#2c3e50",font:{weight:"bold"}},ticks:{color:"#495057"}}},elements:{line:{tension:.4},point:{radius:1}}}}},mounted(){const t=oe();this.fetchTrialWithTests(t.params.trialId)},methods:{async fetchTrialWithTests(t){try{const e=await U.trial.getTrialById(t);this.trial=e.data;const n=await U.test.getTestsByTrialId(t);this.trial.tests=n.data.data}catch(e){console.error("Error fetching trial or tests:",e)}},getChartData(t,e){return{labels:t==="gate"?e.map(n=>n.gateV):e.map(n=>n.time),datasets:[{label:"Voltage X",data:e.map(n=>n.voltageX),borderColor:t!=="gate"?"#f97316":"#36A2EB",pointBackgroundColor:t!=="gate"?"#f97316":"#36A2EB"}]}},goToUI(){const t=this.trial._id,e=`https://layerlogic.github.io/ui-v-2?id=${encodeURIComponent(t)}`;window.open(e,"_blank")}}},we={class:"trial-view"},Le={key:0,class:"card trial-header"},je={class:"card-header"},Ne={class:"card-title"},Ve={key:1},Ie={key:2,class:"trial-info"},Ee={class:"card"},xe={class:"card-content"},Ae=["innerHTML"],Be={class:"card"},De={class:"card-content"},Ue=["innerHTML"],Me={key:3},Ge={key:4,class:"trial-tests"},He={class:"card-header"},We={class:"card-title"},Fe={class:"card-description"},Ke={class:"card-content"},Re={key:1},ze={key:5};function Xe(t,e,n,i,r,s){const c=x("TrialTags"),d=x("v-chip"),u=x("Chart");return v(),g("div",we,[r.trial?(v(),g("div",Le,[h("div",je,[h("h3",Ne,N(r.trial.name),1),h("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...o)=>s.goToUI&&s.goToUI(...o))},"New Test")]),D(c,{tags:r.trial.tags},null,8,["tags"])])):(v(),g("div",Ve,e[1]||(e[1]=[h("p",null,"Loading trial...",-1)]))),r.trial?(v(),g("div",Ie,[h("div",Ee,[e[2]||(e[2]=h("div",{class:"card-header"},[h("h3",{class:"card-title"},"Procedures")],-1)),h("div",xe,[h("p",{innerHTML:r.trial.procedures},null,8,Ae)])]),h("div",Be,[e[3]||(e[3]=h("div",{class:"card-header"},[h("h3",{class:"card-title"},"Notes")],-1)),h("div",De,[h("p",{innerHTML:r.trial.notes},null,8,Ue)])])])):(v(),g("div",Me,e[4]||(e[4]=[h("p",null,"Loading trial...",-1)]))),r.trial&&r.trial.tests&&r.trial.tests.length?(v(),g("div",Ge,[(v(!0),g(se,null,ae(r.trial.tests,o=>(v(),g("div",{key:o.id,class:"card"},[h("div",He,[h("div",null,[h("h3",We,N(o.type)+" Analyses",1),h("p",Fe,N(new Date(o.createdAt).toLocaleString("en-US",{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"})),1)]),D(d,{size:"small"},{default:le(()=>[ue("Channel "+N(o.channel),1)]),_:2},1024)]),h("div",Ke,[o.measurements&&o.measurements.length?(v(),de(u,{key:0,type:"line",data:s.getChartData(o.type,o.measurements),options:o.type==="gate"?r.gateChartOptions:r.timeChartOptions,height:300},null,8,["data","options"])):(v(),g("p",Re,"No measurement data available for this test."))])]))),128))])):(v(),g("div",ze,e[5]||(e[5]=[h("p",null,"No tests found for this trial.",-1)])))])}const Je=ie(ke,[["render",Xe],["__scopeId","data-v-20660c1c"]]);export{Je as default};
